# sample-sam-app

## Lambda Function

- HelloWorldFunction - Auto generated by `sam init` command.
- SimpleResponseFunction - Receives a number and returns a string.

## Deploy LocalStack

```bash
sam build
samlocal deploy --guided
```

## Execution

- `awslocal` command can be replaced by `aws --profile xxxxx --endpoint-url http://localhost:4566`. 
- Check target function name by `lambda list-functions` before execute `lambda invoke`.

### HelloWorldFunction

```bash
awslocal lambda list-functions
awslocal lambda get-function --function-name "sample-app-HelloWorldFunction-93a343b8"
awslocal lambda invoke --function-name "sample-app-HelloWorldFunction-93a343b8" /tmp/response-helloworld.json
```

### SimpleResponseFunction

```bash
awslocal lambda list-functions
awslocal lambda get-function --function-name "sample-app-SimpleResponseFunction-96533490"
awslocal lambda invoke \
    --function-name "sample-app-SimpleResponseFunction-96533490" \
    --payload $(echo '{"number":1}' | base64) \
    /tmp/response-simpleresponse.json
```
